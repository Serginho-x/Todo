{"ast":null,"code":"import _regeneratorRuntime from \"/home/developer/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/Projects/Todo/src/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/developer/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/Projects/Todo/src/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { _signUp, _login, _logout } from '../../services/user.service';\nimport history from '../../history';\nvar REGISTER_REQUEST = 'REGISTER_REQUEST';\nvar REGISTER_SUCCESS = 'REGISTER_REQUEST';\nvar REGISTER_FAILURE = 'REGISTER_FAILURE';\nvar LOGIN_REQUEST = 'LOGIN_REQUEST';\nvar LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nvar LOGIN_FAILURE = 'LOGIN_FAILURE';\nvar LOGOUT = 'LOGOUT';\nexport var signUp = function signUp(form) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _signUp(form);\n\n              case 2:\n                response = _context.sent;\n\n                if (response) {\n                  dispatch(success(response));\n                  history.push('/');\n                } else {\n                  dispatch(failure(response.error));\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n\n  function request(user) {\n    return {\n      type: REGISTER_REQUEST,\n      user: user\n    };\n  }\n\n  function success(user) {\n    return {\n      type: REGISTER_SUCCESS,\n      user: user\n    };\n  }\n\n  function failure(error) {\n    return {\n      type: REGISTER_FAILURE,\n      error: error\n    };\n  }\n};\nexport var signIn = function signIn(email, password) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(dispatch) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                dispatch(request(email));\n                _context2.next = 3;\n                return _login(email, password);\n\n              case 3:\n                response = _context2.sent;\n\n                if (response) {\n                  dispatch(success(response.user));\n                  history.push('/');\n                } else {\n                  dispatch(failure(response.error));\n                }\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  );\n\n  function request(user) {\n    return {\n      type: LOGIN_REQUEST,\n      user: user\n    };\n  }\n\n  function success(user) {\n    return {\n      type: LOGIN_SUCCESS,\n      user: user\n    };\n  }\n\n  function failure(error) {\n    return {\n      type: LOGIN_FAILURE,\n      error: error\n    };\n  }\n};\nexport var logout = function logout() {\n  _logout();\n\n  return {\n    type: LOGOUT\n  };\n};","map":{"version":3,"sources":["/home/developer/Документы/Projects/Todo/src/frontend/src/store/users/users-action.js"],"names":["_signUp","_login","_logout","history","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_FAILURE","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","signUp","form","dispatch","response","success","push","failure","error","request","user","type","signIn","email","password","logout"],"mappings":"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","sourcesContent":["import {_signUp,  _login, _logout} from '../../services/user.service';\nimport history from '../../history'\n\nconst REGISTER_REQUEST = 'REGISTER_REQUEST'\nconst REGISTER_SUCCESS = 'REGISTER_REQUEST'\nconst REGISTER_FAILURE = 'REGISTER_FAILURE'\nconst LOGIN_REQUEST = 'LOGIN_REQUEST'\nconst LOGIN_SUCCESS = 'LOGIN_SUCCESS'\nconst LOGIN_FAILURE = 'LOGIN_FAILURE'\nconst LOGOUT = 'LOGOUT'\n\nexport const signUp = (form) => {\n    return async (dispatch) => {\n        // await dispatch(request( form.email ));\n        const response = await _signUp(form)\n        if (response){\n                dispatch(success(response));\n                history.push('/');\n            } else{            \n                dispatch(failure(response.error));\n            }        \n    };\n\n    function request(user) { return { type: REGISTER_REQUEST, user } }\n    function success(user) { return { type: REGISTER_SUCCESS, user } }\n    function failure(error) { return { type: REGISTER_FAILURE, error } }\n}\n\nexport const signIn = (email, password) => {\n    return async (dispatch) => {\n        dispatch(request( email ));\n        const response = await _login(email, password)\n        if (response){\n                dispatch(success(response.user));\n                history.push('/');\n            } else{            \n                dispatch(failure(response.error));\n            }        \n    };\n\n    function request(user) { return { type: LOGIN_REQUEST, user } }\n    function success(user) { return { type: LOGIN_SUCCESS, user } }\n    function failure(error) { return { type: LOGIN_FAILURE, error } }\n}\n\nexport const logout = () => {\n    _logout();\n    return { type: LOGOUT };\n}"]},"metadata":{},"sourceType":"module"}